# ì—ë„ˆì§€ ì†Œë¹„ì™€ ì¶œì‚°ìœ¨

> íŒŒì´ì¬ì„ í†µí•œ ì—ë„ˆì§€ ì†Œë¹„ì™€ ì¶œì‚°ìœ¨ ë°˜ë¹„ë¡€ ê´€ê³„ ì¡°ì‚¬

## ğŸ“˜ í”„ë¡œì íŠ¸ ê°œìš”

### ğŸ¯ ì œì‘ ë°°ê²½
ë°©ì†¡í†µì‹ ëŒ€í•™êµ ìƒëª…ê³¼í™˜ê²½ ìˆ˜ì—…ì—ì„œ ì—ë„ˆì§€ ì‚¬ìš©ì´ ë†’ì„ìˆ˜ë¡ ì¶œì‚°ìœ¨ì´ ë‚®ì•„ì§€ëŠ” ë°˜ë¹„ë¡€ ê´€ê³„ê°€ ìˆë‹¤ëŠ” ì—°êµ¬ ê²°ê³¼ë¥¼ ì ‘í–ˆìŠµë‹ˆë‹¤. ì´ì— ë”°ë¼ ì¶œì‚°ìœ¨ì´ ê¸‰ê²©íˆ ë‚®ì•„ì§€ëŠ” í•œêµ­ ì‚¬íšŒë¼ëŠ” í•œì •ì ì¸ ë²”ìœ„ì—ì„œë„ ì´ í˜„ìƒì´ ë‘ë“œëŸ¬ì§€ëŠ”ì§€ë¥¼ ë°ì´í„°ë¡œ í™•ì¸í•˜ê³ ì ë¶„ì„ì„ ì‹œì‘í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

### ğŸ›  ê¸°ìˆ  ìŠ¤íƒ
Python
- matplotlib
- numpy

### âœ¨ ì£¼ìš” ê¸°ëŠ¥
1. ì—°ë„ë³„ ì „êµ­ ì¶œì‚°ìœ¨ ë° ì—ë„ˆì§€ ì†Œë¹„ ì¶”ì´ ê·¸ë˜í”„ ì œê³µ
2. ì§€ì—­ë³„ ì—°ë„ë³„ ì¶œì‚°ìœ¨ê³¼ ì „ê¸° ì†Œë¹„ëŸ‰ ì¶”ì´ ì‹œê°í™”
3. ì§€ì—­ë³„ ì¶œì‚°ìœ¨ê³¼ ì „ê¸° ì†Œë¹„ëŸ‰ ê°„ì˜ ìƒê´€ê³„ìˆ˜ ê³„ì‚° ë° ì‹œê°í™” (ë§‰ëŒ€ê·¸ë˜í”„)

## ë¶„ì„ ê²°ê³¼

### ì§€ì—­ë³„, ì „êµ­ ì¶œì‚°ìœ¨ì˜ ì¶”ì´
- ì „êµ­ í‰ê·  ì¶œì‚°ìœ¨ì€ ì ì°¨ í•˜ë½ì„¸ë¥¼ ë³´ì„
- íŠ¹íˆ ì¼ë¶€ ì§€ì—­ì€ 1.0 ì´í•˜ë¡œ ì§„ì…í•˜ë©° ê¸‰ê° ì¶”ì„¸ê°€ ëšœë ·í•¨

![ì¶œì‚°ìœ¨ ì¶”ì´](./markdown/desktop/analysis-fertility/img/local_fertility.png) | ![í•œêµ­ ì¶œì‚°ìœ¨ê³¼ ì—ë„ˆì§€ ì†Œë¹„](./markdown/desktop/analysis-fertility/img/kor-ftt-energy.png)
--|--|

### ì§€ì—­ë³„ ì—ë„ˆì§€ ì†Œë¹„ì˜ ì¶”ì´
- ëŒ€ë¶€ë¶„ì˜ ì§€ì—­ì—ì„œ ì „ë ¥ ì†Œë¹„ëŠ” ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ê²½í–¥
- ë„ì‹œí™”ê°€ ë†’ì€ ì§€ì—­ì¼ìˆ˜ë¡ ì†Œë¹„ëŸ‰ ì¦ê°€ê°€ ëšœë ·í•¨


![ì „ê¸° ì†Œë¹„ ì¶”ì´](./markdown/desktop/analysis-fertility/img/local_elec.png) 

### ì¶œì‚°ìœ¨ê³¼ ì—ë„ˆì§€ ì†Œë¹„ëŠ” ìœ ì˜ë¯¸í•œ ìƒê´€ê´€ê³„ê°€ ìˆì„ê¹Œ?

> ìƒê´€ê³„ìˆ˜(correlation coefficient)ëŠ” ë‘ ë³€ìˆ˜ ì‚¬ì´ì˜ í†µê³„ì  ê´€ê³„ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ íŠ¹ì •í•œ ìƒê´€ ê´€ê³„ì˜ ì •ë„ë¥¼ ìˆ˜ì¹˜ì ìœ¼ë¡œ ë‚˜íƒ€ë‚¸ ê³„ìˆ˜ì´ë‹¤.
>

- ì „êµ­ ë° ì§€ì—­ë³„ ì¶œì‚°ìœ¨ê³¼ ì „ë ¥ ì†Œë¹„ëŸ‰ì˜ ì—°ë„ë³„ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜ë¥¼ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤.
- ì „êµ­ ë°ì´í„°ì˜ ìƒê´€ê³„ìˆ˜ëŠ” -0.87 ìˆ˜ì¹˜ê°€ ë‚˜ì™”ìœ¼ë©° ì´ëŠ” ë†’ì€ ë°˜ë¹„ë¡€ ê´€ê³„ì„±ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- ëŒ€ë¶€ë¶„ ì§€ì—­ì—ì„œ ì•½í•œ ìŒì˜ ìƒê´€ê´€ê³„ ë˜ëŠ” ìœ ì˜ë¯¸í•˜ì§€ ì•Šì€ ìƒê´€ê´€ê³„ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤.
- ì¼ë¶€ ì§€ì—­(ì˜ˆ: ê²½ê¸°, ëŒ€êµ¬)ì—ì„œëŠ” ë¹„êµì  ëšœë ·í•œ ìŒì˜ ìƒê´€ê³„ìˆ˜ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.
- ì´ëŠ” ì—ë„ˆì§€ ì†Œë¹„ ì¦ê°€ì™€ ì¶œì‚°ìœ¨ ê°ì†Œ ê°„ì˜ êµ¬ì¡°ì  ê´€ë ¨ ê°€ëŠ¥ì„±ì„ ì‹œì‚¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

![relative graph](./markdown/desktop/analysis-fertility/img/local_rel.png)

```py
'''ì§€ì—­ë³„ ì¶œì‚°ìœ¨ê³¼ ì „ê¸° ì†Œë¹„ ìƒê´€ê³„ìˆ˜ (2011~2020) ì½”ë“œ ì¼ë¶€'''

# 1. ì¶œì‚°ìœ¨ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì—°ë„ 2011~2020 êµ¬ê°„ë§Œ ì˜ë¼ë‚´ê¸°
ftt_local_list_cut = []
for row in ftt_local_list:
    cut_row = []
    for i in range(11, 21):  # 2011~2020ì— í•´ë‹¹í•˜ëŠ” ì¸ë±ìŠ¤
        cut_row.append(row[i])
    ftt_local_list_cut.append(cut_row)

# 2. None ê°’ì„ NaNìœ¼ë¡œ ë°”ê¾¸ê¸°
for i in range(len(ftt_local_list_cut)):
    for j in range(len(ftt_local_list_cut[i])):
        if ftt_local_list_cut[i][j] is None:
            ftt_local_list_cut[i][j] = np.nan

# 3. ê° ì§€ì—­ë³„ ì¶œì‚°ìœ¨ê³¼ ì „ê¸°ì†Œë¹„ ê°„ì˜ ìƒê´€ê³„ìˆ˜ ê³„ì‚°
correlations = []

for fert, elec in zip(ftt_local_list_cut, elc_local_list):
    fert_arr = np.array(fert)
    elec_arr = np.array(elec)

    # NaNì´ ì•„ë‹Œ ê°’ë“¤ë§Œ ê³¨ë¼ë‚´ëŠ” ë§ˆìŠ¤í¬
    mask = ~np.isnan(fert_arr)

    if np.any(mask):  # ìœ íš¨í•œ ê°’ì´ í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´
        corr = np.corrcoef(fert_arr[mask], elec_arr[mask])[0, 1]
        correlations.append(corr)
    else:
        correlations.append(np.nan)
```

1981ë…„ë¶€í„° 2020ë…„ê¹Œì§€ 40ë…„ê°„ì˜ ì „êµ­ ë°ì´í„°ë¥¼ ë¶„ì„í•œ ê²°ê³¼,
**ì¶œì‚°ìœ¨ê³¼ 1ì¸ë‹¹ ì—ë„ˆì§€ ì†Œë¹„ëŸ‰ ì‚¬ì´ì—ëŠ” ê°•í•œ ë°˜ë¹„ë¡€ ê´€ê³„(-0.87)** ìˆ˜ì¹˜ë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤.
ì´ëŠ” ë‘ ë³€ìˆ˜ ê°„ì˜ ì—°ê´€ì„±ì´ í†µê³„ì ìœ¼ë¡œ ë§¤ìš° ê°•í•˜ë©°, ì¶œì‚°ìœ¨ì´ ë‚®ì„ìˆ˜ë¡ ì—ë„ˆì§€ ì†Œë¹„ê°€ ì¦ê°€í•˜ëŠ” ê²½í–¥ì´ ëšœë ·í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•¨ì„ í™•ì¸ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

```py
''' ì „êµ­ ì¶œì‚°ìœ¨ê³¼ ì—ë„ˆì§€ ì†Œë¹„ ìƒê´€ê³„ìˆ˜ ì¶œë ¥ '''
fertility_arr = np.array(fertility)
energy_arr = np.array(energy)

if len(fertility_arr) >= 2 and len(energy_arr) >= 2:
    corr = np.corrcoef(fertility_arr, energy_arr)[0, 1]
else:
    corr = 0

print(f"ìƒê´€ê³„ìˆ˜: {corr:.2f}")
```




## ğŸ“ í´ë” êµ¬ì¡°
```
â”œâ”€â”€ compare_local.py
â”œâ”€â”€ compare_whole.py
â”œâ”€â”€ csv
â”‚   â”œâ”€â”€ electricity_local.csv
â”‚   â”œâ”€â”€ energy_total.csv
â”‚   â”œâ”€â”€ fertility_local.csv
â”‚   â””â”€â”€ fertility_whole.csv
â”œâ”€â”€ excel
â”‚   â”œâ”€â”€ ì—ë„ˆì§€ ì£¼ìš” ì§€í‘œ (ì—°ê°„) .xlsx
â”‚   â”œâ”€â”€ ì‹œêµ°êµ¬_ì¶œìƒì•„ìˆ˜__í•©ê³„ì¶œì‚°ìœ¨_20250429013727.xlsx
â”‚   â””â”€â”€ 1ì¸ë‹¹ ì „ë ¥ ì†Œë¹„ (ì§€ì—­) .xlsx
â”œâ”€â”€ img (for README.md)
â””â”€â”€ README.md
```

### ğŸ“œ ì½”ë“œ êµ¬ì¡°
- `compare_local.py`: ì§€ì—­ë³„ ì¶œì‚°ìœ¨ê³¼ ì „ë ¥ ì†Œë¹„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì‹œê°í™” ë° ìƒê´€ê³„ìˆ˜ ë¶„ì„ ìˆ˜í–‰
- `compare_whole.py`: ì „êµ­ ë‹¨ìœ„ ì¶œì‚°ìœ¨ê³¼ ì—ë„ˆì§€ ì£¼ìš” ì§€í‘œ ë¶„ì„ìš© ìŠ¤í¬ë¦½íŠ¸

## ğŸ›  ì¶”í›„ ì‘ì—… ë° ì´ìŠˆ

### âœ… TODO
- ì—ë„ˆì§€ ì†Œë¹„ ì§€í‘œë¥¼ ì „ë ¥ ì™¸ ë‹¤ë¥¸ ì—ë„ˆì§€ì›(ê°€ìŠ¤, ì„ìœ  ë“±)ìœ¼ë¡œ í™•ì¥
- ì¶œì‚°ìœ¨ ìš”ì¸ìœ¼ë¡œ ì†Œë“, êµìœ¡ ìˆ˜ì¤€ ë“± ë‹¤ë³€ëŸ‰ ë¶„ì„ ì—°ê³„
- ëŒ€ì‹œë³´ë“œ í˜•íƒœë¡œ ì‹œê°í™” ë¦¬í¬íŠ¸ ìë™í™”

### ğŸ Issues
- ì¶œì‚°ìœ¨ ë°ì´í„°ì™€ ì—ë„ˆì§€ ë°ì´í„°ì˜ ì—°ë„ ë¶ˆì¼ì¹˜ë¡œ ì¸í•œ ì „ì²˜ë¦¬ ì´ìŠˆ
- ì¼ë¶€ ì§€ì—­ì€ ë°ì´í„° ëˆ„ë½ í˜¹ì€ í†µê³„ ìˆ˜ì¹˜ì˜ ë¶€ì •í™•ì„± ì¡´ì¬

## ğŸ”— ì°¸ê³ ìë£Œ

- [[ê³¼í•™ì´ì•¼ê¸°] ì¸ê°„ ì—ë„ˆì§€ì†Œë¹„ì™€ ì¶œì‚°ìœ¨ (ë§¤ì¼ê²½ì œ)](https://www.mk.co.kr/news/all/3053434)

### csv ì¶œì²˜
- ì§€ì—­ë³„ ì¶œì‚°ìœ¨: [KOSIS (êµ­ê°€í†µê³„í¬í„¸)](https://kosis.kr/statisticsList/statisticsListIndex.do?menuId=M_01_01&vwcd=MT_ZTITLE&parmTabId=M_01_01&parentId=U.1;U_7.2;&outLink=Y#U_7.2)
    - [ ì¸êµ¬ ] > [ ì¸êµ¬ë™í–¥ì¡°ì‚¬ ] > [ ì¶œìƒ ]
- ì—°ê°„ ì´ ì¶œì‚°ìœ¨: [KOSIS (êµ­ê°€í†µê³„í¬í„¸)](https://kosis.kr/statisticsList/statisticsListIndex.do?menuId=M_01_01&vwcd=MT_ZTITLE&parmTabId=M_01_01&parentId=U.1;U_7.2;&outLink=Y#U_7.2)
- 1ì¸ë‹¹ ì „ë ¥ ì†Œë¹„ (ì§€ì—­): [KESIS êµ­ê°€ ì—ë„ˆì§€ í†µê³„ ì¢…í•© ì •ë³´ ì‹œìŠ¤í…œ](https://www.kesis.net/sub/subChart.jsp?report_id=910206&reportType=1)
- ì—ë„ˆì§€ ì£¼ìš” ì§€í‘œ(ì—°ê°„): [KESIS êµ­ê°€ ì—ë„ˆì§€ í†µê³„ ì¢…í•© ì •ë³´ ì‹œìŠ¤í…œ](https://www.kesis.net/sub/subChart.jsp?report_id=910203&reportType=0)